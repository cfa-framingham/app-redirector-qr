<!DOCTYPE html>
<html>
<head>
  <title>Chick-fil-A ONE</title>
</head>
<body>

<script>

// Copyright (c) 2024 Yoel Laya

// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.

// Permission to use, copy, modify, and/or distribute this software for any 
// purpose with or without fee is hereby granted, provided that the above 
// copyright notice and this permission notice appear in all copies and that
// the use of this software is exclusively for the Chick-fil-A Framingham franchise
// as part of the "Chick-fil-A App Promotion" project.

// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES 
// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF 
// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR 
// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES 
// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN 
// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF 
// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

  function detectAndRedirect() {
    var userAgent = navigator.userAgent || navigator.vendor || window.opera;

    // Device detection
 if (/android/i.test(userAgent)) {
      // Redirect to Google Play Store for Android devices
      window.location.replace("https://play.google.com/store/apps/details?id=com.chickfila.cfaflagship"); 
    } else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
      // Redirect to App Store for iOS devices
      window.location.replace("https://itunes.apple.com/us/app/chick-fil-a/id488818252"); 
    } else {
      // Redirect to a specific website if the device is not detected
      window.location.replace("https://www.chick-fil-a.com/");
    }
  }

  // Error handling
  try {
    detectAndRedirect();
  } catch (error) {
    console.error("Error in redirection:", error);
    // Optional: Display an error message to the user or redirect to an error page
  }
</script>

</body>
</html>
